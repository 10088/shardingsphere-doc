commit 3d413f4abb62b3cff4836b997213007971626857
Author: Jieker <jieker_mail@163.com>
Date:   Tue Aug 23 16:16:25 2022 +0800

    Add `CREATE SHADOW RULE` docs. (#20451)

diff --git a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/db-discovery/create-db-discovery-rule.cn.md b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/db-discovery/create-db-discovery-rule.cn.md
index 5d1c4fcdcc9..521d541fe57 100644
--- a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/db-discovery/create-db-discovery-rule.cn.md
+++ b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/db-discovery/create-db-discovery-rule.cn.md
@@ -37,8 +37,7 @@ discoveryHeartbeatName ::=
 - `discoveryType` 指定数据库发现服务类型，`ShardingSphere` 内置支持 `MySQL.MGR`；
 - 重复的 `ruleName` 将无法被创建；
 - 正在被使用的 `discoveryType` 和 `discoveryHeartbeat` 无法被删除；
-- 带有 `-` 的命名在改动时需要使用 `" "`；
-- 移除 `discoveryRule` 时不会移除被该 `discoveryRule` 使用的 `discoveryType` 和 `discoveryHeartbeat`。
+- 带有 `-` 的命名在改动时需要使用 `" "`。
 
 ### 示例
 
diff --git a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/db-discovery/create-db-discovery-rule.en.md b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/db-discovery/create-db-discovery-rule.en.md
index 90a55c1e1be..74707157af4 100644
--- a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/db-discovery/create-db-discovery-rule.en.md
+++ b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/db-discovery/create-db-discovery-rule.en.md
@@ -37,9 +37,7 @@ discoveryHeartbeatName ::=
 - `discoveryType` specifies the database discovery service type, `ShardingSphere` has built-in support for `MySQL.MGR`;
 - Duplicate `ruleName` will not be created;
 - The `discoveryType` and `discoveryHeartbeat` being used cannot be deleted;
-- Names with `-` need to use `" "` when changing;
-- When removing the `discoveryRule`, the `discoveryType` and `discoveryHeartbeat` used by the `discoveryRule` will not
-  be removed.
+- Names with `-` need to use `" "` when changing。
 
 ### Example
 
diff --git a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/_index.cn.md b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/_index.cn.md
new file mode 100644
index 00000000000..7b0b4658b5a
--- /dev/null
+++ b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/_index.cn.md
@@ -0,0 +1,7 @@
++++
+title = "影子库压测"
+weight = 1
+chapter = true
++++
+
+本章节将对影子库压测特性的语法进行详细说明。
diff --git a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/_index.en.md b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/_index.en.md
new file mode 100644
index 00000000000..3de84d85695
--- /dev/null
+++ b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/_index.en.md
@@ -0,0 +1,7 @@
++++
+title = "Shadow"
+weight = 1
+chapter = true
++++
+
+This chapter describes the syntax of shadow.
diff --git a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/create-shadow-rule.cn.md b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/create-shadow-rule.cn.md
new file mode 100644
index 00000000000..1d14d33867a
--- /dev/null
+++ b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/create-shadow-rule.cn.md
@@ -0,0 +1,72 @@
++++
+title = "CREATE SHADOW RULE"
+weight = 2
++++
+
+## 描述
+
+`CREATE SHADOW RULE` 语法用于创建影子库压测规则
+
+### 语法定义
+
+```sql
+CreateShadowRule ::=
+  'CREATE' 'SHADOW' 'RULE' shadowDefinition ( ',' shadowDefinition )*
+
+shadowDefinition ::=
+  ruleName '(' resourceMapping shadowTableRule ( ',' shadowTableRule )* ')'
+    
+resourceMapping ::=
+    'SOURCE' '=' resourceName ',' 'SHADOW' '=' resourceName
+
+shadowTableRule ::=
+    tableName '(' shadowAlgorithm ( ',' shadowAlgorithm )* ')'
+    
+shadowAlgorithm ::=
+    ( algorithmName ',' )? 'TYPE' '('  'NAME' '=' shadowAlgorithmType ',' 'PROPERTIES' '(' 'key' '=' 'value' ( ',' 'key' '=' 'value' ) ')'
+
+ruleName ::=
+  identifier
+
+resourceName ::=
+  identifier
+
+tableName ::=
+  identifier
+
+algorithmName ::=
+  identifier
+
+shadowAlgorithmType ::=
+  identifier
+```
+
+### 补充说明
+
+- 重复的 `ruleName` 无法被创建；
+- `resourceMapping` 指定源数据库和影子库的映射关系，需使用 `RDL` 管理的 `resource`
+  ，请参考 [数据源资源](https://shardingsphere.apache.org/document/current/cn/reference/distsql/syntax/rdl/resource-definition/)；
+- `shadowAlgorithm` 可同时作用于多个 `shadowTableRule`；
+- `algorithmName` 未指定时会根据 `ruleName`、`tableName` 和 `shadowAlgorithmType` 自动生成；
+- `shadowAlgorithmType` 目前支持 `VALUE_MATCH`、`REGEX_MATCH` 和 `SIMPLE_HINT`。
+
+### 示例
+
+#### 创建影子库压测规则
+
+```sql
+CREATE SHADOW RULE shadow_rule(
+  SOURCE=demo_ds,
+  SHADOW=demo_ds_shadow,
+  t_order((simple_hint_algorithm, TYPE(NAME="SIMPLE_HINT", PROPERTIES("shadow"="true", "foo"="bar"))),(TYPE(NAME="REGEX_MATCH", PROPERTIES("operation"="insert","column"="user_id", "regex"='[1]')))), 
+  t_order_item((TYPE(NAME="VALUE_MATCH", PROPERTIES("operation"="insert","column"="user_id", "value"='1'))))
+);
+```
+
+### 保留字
+
+`CREATE`、`SHADOW`、`RULE`、`SOURCE`、`SHADOW`、`TYPE`、`NAME`、`PROPERTIES`
+
+### 相关链接
+
+- [保留字](/cn/reference/distsql/syntax/reserved-word/)
\ No newline at end of file
diff --git a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/create-shadow-rule.en.md b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/create-shadow-rule.en.md
new file mode 100644
index 00000000000..43e76de0bfe
--- /dev/null
+++ b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/shadow/create-shadow-rule.en.md
@@ -0,0 +1,74 @@
++++
+title = "CREATE SHADOW RULE"
+weight = 2
++++
+
+## Description
+
+The `CREATE SHADOW RULE` syntax is used to create a default shadow rule.
+
+### Syntax
+
+```sql
+CreateShadowRule ::=
+  'CREATE' 'SHADOW' 'RULE' shadowDefinition ( ',' shadowDefinition )*
+
+shadowDefinition ::=
+  ruleName '(' resourceMapping shadowTableRule ( ',' shadowTableRule )* ')'
+    
+resourceMapping ::=
+    'SOURCE' '=' resourceName ',' 'SHADOW' '=' resourceName
+
+shadowTableRule ::=
+    tableName '(' shadowAlgorithm ( ',' shadowAlgorithm )* ')'
+    
+shadowAlgorithm ::=
+    ( algorithmName ',' )? 'TYPE' '('  'NAME' '=' shadowAlgorithmType ',' 'PROPERTIES' '(' 'key' '=' 'value' ( ',' 'key' '=' 'value' ) ')'
+
+ruleName ::=
+  identifier
+
+resourceName ::=
+  identifier
+
+tableName ::=
+  identifier
+
+algorithmName ::=
+  identifier
+
+shadowAlgorithmType ::=
+  identifier
+```
+
+### Supplement
+
+- Duplicate `ruleName` cannot be created;
+- `resourceMapping` specifies the mapping relationship between the `source` database and the shadow library. You need to
+  use the resource managed by RDL, please refer
+  to [resource](https://shardingsphere.apache.org/document/current/en/reference/distsql/syntax/rdl/resource-definition/);
+- `shadowAlgorithm` can act on multiple `shadowTableRule` at the same time;
+- If `algorithmName` is not specified, it will be automatically generated according to `ruleName`, `tableName`
+  and `shadowAlgorithmType`;
+- `shadowAlgorithmType` currently supports `VALUE_MATCH`, `REGEX_MATCH` and `SIMPLE_HINT`.
+
+### Example
+
+#### Create a shadow rule
+
+```sql
+CREATE SHADOW RULE shadow_rule(
+  SOURCE=demo_ds,
+  SHADOW=demo_ds_shadow,
+  t_order((simple_hint_algorithm, TYPE(NAME="SIMPLE_HINT", PROPERTIES("shadow"="true", "foo"="bar"))),(TYPE(NAME="REGEX_MATCH", PROPERTIES("operation"="insert","column"="user_id", "regex"='[1]')))), 
+  t_order_item((TYPE(NAME="VALUE_MATCH", PROPERTIES("operation"="insert","column"="user_id", "value"='1'))))
+);
+```
+
+### Reserved word
+
+`CREATE`, `SHADOW`, `RULE`, `SOURCE`, `SHADOW`, `TYPE`, `NAME`, `PROPERTIES`
+
+### Related links
+
+- [Reserved word](/en/reference/distsql/syntax/reserved-word/)
diff --git a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/single-table/create-default-single-table-rule.cn.md b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/single-table/create-default-single-table-rule.cn.md
index 3bc2ed649cc..edf3e75ad41 100644
--- a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/single-table/create-default-single-table-rule.cn.md
+++ b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/single-table/create-default-single-table-rule.cn.md
@@ -11,7 +11,7 @@ weight = 2
 
 ```sql
 CreateDefaultSingleTableRule ::=
-  'CREATE' 'DEFAULT' 'SINGLE` `TABLE` `RULE' singleTableDefinition
+  'CREATE' 'DEFAULT' 'SINGLE' 'TABLE' 'RULE' singleTableDefinition
 
 singleTableDefinition ::=
   'RESOURCE' '=' resourceName
diff --git a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/single-table/create-default-single-table-rule.en.md b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/single-table/create-default-single-table-rule.en.md
index ae26257b766..9be0c2abeec 100644
--- a/docs/document/content/reference/distsql/syntax/rdl/rule-definition/single-table/create-default-single-table-rule.en.md
+++ b/docs/document/content/reference/distsql/syntax/rdl/rule-definition/single-table/create-default-single-table-rule.en.md
@@ -11,7 +11,7 @@ The `CREATE DEFAULT SINGLE TABLE RULE` syntax is used to create a default single
 
 ```sql
 CreateDefaultSingleTableRule ::=
-  'CREATE' 'DEFAULT' 'SINGLE` `TABLE` `RULE' singleTableDefinition
+  'CREATE' 'DEFAULT' 'SINGLE' 'TABLE' 'RULE' singleTableDefinition
 
 singleTableDefinition ::=
   'RESOURCE' '=' resourceName
diff --git a/docs/document/content/reference/distsql/syntax/reserved-word.cn.md b/docs/document/content/reference/distsql/syntax/reserved-word.cn.md
index 72bb664d130..fce1f1b9cbf 100644
--- a/docs/document/content/reference/distsql/syntax/reserved-word.cn.md
+++ b/docs/document/content/reference/distsql/syntax/reserved-word.cn.md
@@ -10,29 +10,33 @@ weight = 3
 
 ### 规则定义
 
-#### SHARDING
+#### 分片
 
 `CREATE`、`ALTER`、`DEFAULT`、`SHARDING`、`BROADCAST`、`BINDING`、`DATABASE`、`TABLE`、`STRATEGY`、`RULE`、`RULES`、`ALGORITHM`
 、`DATANODES`、`DATABASE_STRATEGY`、`TABLE_STRATEGY`、`KEY_GENERATE_STRATEGY`、`RESOURCES`、`SHARDING_COLUMN`、`KEY`
 、`GENERATOR`、`TYPE`、`SHARDING_COLUMNS`、`KEY_GENERATOR`、`SHARDING_ALGORITHM`、`COLUMN`、`NAME`、`PROPERTIES`
 
-#### Single Table
+#### 单表
 
 `CREATE`、`SHARDING`、`SINGLE`、`TABLE`、`RULE`、`RESOURCE`
 
-#### Readwrite Splitting
+#### 读写分离
 
 `CREATE`、`READWRITE_SPLITTING`、`RULE`、`WRITE_RESOURCE`、`READ_RESOURCES`、`AUTO_AWARE_RESOURCE`、`WRITE_DATA_SOURCE_QUERY_ENABLED`
 、`TYPE`、`NAME`、`PROPERTIES`、`TRUE`、`FALSE`
 
-#### Encrypt
+#### 数据加密
 
 `CREATE`、`ENCRYPT`、`RULE`、`COLUMNS`、`NAME`、`CIPHER`、`PLAIN`、`QUERY_WITH_CIPHER_COLUMN`、`TYPE`、`TRUE`、`FALSE`
 
-#### Database Discovery
+#### 数据库发现
 
 `CREATE`、`DB_DISCOVERY`、`RULE`、`RESOURCES`、`TYPE`、`NAME`、`PROPERTIES`、`HEARTBEAT`
 
+#### 影子压测
+
+`CREATE`、`SHADOW`、`RULE`、`SOURCE`、`SHADOW`、`TYPE`、`NAME`、`PROPERTIES`
+
 ### 补充说明
 
 - 上述保留字大小写不敏感
\ No newline at end of file
diff --git a/docs/document/content/reference/distsql/syntax/reserved-word.en.md b/docs/document/content/reference/distsql/syntax/reserved-word.en.md
index 95de92fcaed..1f24fcc2cac 100644
--- a/docs/document/content/reference/distsql/syntax/reserved-word.en.md
+++ b/docs/document/content/reference/distsql/syntax/reserved-word.en.md
@@ -33,6 +33,10 @@ weight = 3
 
 `CREATE`, `DB_DISCOVERY`, `RULE`, `RESOURCES`, `TYPE`, `NAME`, `PROPERTIES`, `HEARTBEAT`
 
+#### Shadow
+
+`CREATE`, `SHARDING`, `SINGLE`, `TABLE`, `RULE`, `RESOURCE`
+
 ### Supplement
 
 - The above reserved words are not case-sensitive
\ No newline at end of file
