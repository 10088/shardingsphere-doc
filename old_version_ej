commit 42dea9ee8c7663241b2151045cf6783ff0e5690c
Author: 吴伟杰 <root496879118@me.com>
Date:   Tue Aug 4 12:46:39 2020 +0800

    Improve Spring Boot OneOffJobBootstrap injection (#1331)
    
    * Improve Spring Boot OneOffJobBootstrap injection
    - Add property `jobBootstrapBeanName`.
    - Add testcase for property `jobBootstrapBeanName`.
    - Update example for Spring Boot Starter.
    - Update documents of Spring Boot Starter.
    
    * Update Spring Boot configuration documents.

diff --git a/docs/content/user-manual/elasticjob-lite/configuration/spring-boot-starter.cn.md b/docs/content/user-manual/elasticjob-lite/configuration/spring-boot-starter.cn.md
index fb8721711..419b4d072 100644
--- a/docs/content/user-manual/elasticjob-lite/configuration/spring-boot-starter.cn.md
+++ b/docs/content/user-manual/elasticjob-lite/configuration/spring-boot-starter.cn.md
@@ -47,6 +47,7 @@ elasticjob.reg-center.server-lists=localhost:6181
 | --------------------------------- |:-------- |
 | elasticJobClass / elasticJobType  | 是       |
 | cron                              | 否       |
+| jobBootstrapBeanName              | 否       |
 | sharding-total-count              | 是       |
 | sharding-item-parameters          | 否       |
 | job-parameter                     | 否       |
@@ -63,7 +64,11 @@ elasticjob.reg-center.server-lists=localhost:6181
 | disabled                          | 否       |
 | overwrite                         | 否       |
 
-**[elasticJobClass]与[elasticJobType]互斥，每项作业只能有一种类型**
+**elasticJobClass 与 elasticJobType 互斥，每项作业只能有一种类型**
+
+如果配置了 cron 属性则为定时调度作业，Starter 会在应用启动时自动启动；
+否则为一次性调度作业，需要通过 jobBootstrapBeanName 指定 OneOffJobBootstrap Bean 的名称，
+在触发点注入 OneOffJobBootstrap 的实例并手动调用 execute() 方法。
 
 配置格式参考：
 
@@ -82,6 +87,12 @@ elasticjob:
       shardingTotalCount: 3
       props:
         script.command.line: "echo SCRIPT Job: "
+    manualScriptJob:
+      elasticJobType: SCRIPT
+      jobBootstrapBeanName: manualScriptJobBean
+      shardingTotalCount: 9
+      props:
+        script.command.line: "echo Manual SCRIPT Job: "
 ```
 
 **Properties**
@@ -94,6 +105,10 @@ elasticjob.jobs.scriptJob.elastic-job-type=SCRIPT
 elasticjob.jobs.scriptJob.cron=0/5 * * * * ?
 elasticjob.jobs.scriptJob.sharding-total-count=3
 elasticjob.jobs.scriptJob.props.script.command.line=echo SCRIPT Job:
+elasticjob.jobs.manualScriptJob.elastic-job-type=SCRIPT
+elasticjob.jobs.manualScriptJob.job-bootstrap-bean-name=manualScriptJobBean
+elasticjob.jobs.manualScriptJob.sharding-total-count=3
+elasticjob.jobs.manualScriptJob.props.script.command.line=echo Manual SCRIPT Job:
 ```
 
 ## 事件追踪配置
diff --git a/docs/content/user-manual/elasticjob-lite/configuration/spring-boot-starter.en.md b/docs/content/user-manual/elasticjob-lite/configuration/spring-boot-starter.en.md
index b092d2aac..80def1bd8 100644
--- a/docs/content/user-manual/elasticjob-lite/configuration/spring-boot-starter.en.md
+++ b/docs/content/user-manual/elasticjob-lite/configuration/spring-boot-starter.en.md
@@ -47,6 +47,7 @@ Configuration:
 | --------------------------------- |:-------- |
 | elasticJobClass / elasticJobType  | Yes      |
 | cron                              | No       |
+| jobBootstrapBeanName              | No       |
 | sharding-total-count              | Yes      |
 | sharding-item-parameters          | No       |
 | job-parameter                     | No       |
@@ -63,7 +64,12 @@ Configuration:
 | disabled                          | No       |
 | overwrite                         | No       |
 
-**[elasticJobClass] are [elasticJobType] mutually exclusive.**
+**"elasticJobClass" and "elasticJobType" are mutually exclusive.**
+
+If cron was configured, the job will be created as a ScheduleJobBootstrap.
+The Starter will start scheduling when application is ready.
+Otherwise, the job will be created as a OneOffJobBootstrap with a name specified by "jobBootstrapBeanName".
+It requires manual injection and execution.
 
 Reference: 
 
@@ -82,6 +88,12 @@ elasticjob:
       shardingTotalCount: 3
       props:
         script.command.line: "echo SCRIPT Job: "
+    manualScriptJob:
+      elasticJobType: SCRIPT
+      jobBootstrapBeanName: manualScriptJobBean
+      shardingTotalCount: 9
+      props:
+        script.command.line: "echo Manual SCRIPT Job: "
 ```
 
 **Properties**
@@ -94,6 +106,10 @@ elasticjob.jobs.scriptJob.elastic-job-type=SCRIPT
 elasticjob.jobs.scriptJob.cron=0/5 * * * * ?
 elasticjob.jobs.scriptJob.sharding-total-count=3
 elasticjob.jobs.scriptJob.props.script.command.line=echo SCRIPT Job:
+elasticjob.jobs.manualScriptJob.elastic-job-type=SCRIPT
+elasticjob.jobs.manualScriptJob.job-bootstrap-bean-name=manualScriptJobBean
+elasticjob.jobs.manualScriptJob.sharding-total-count=3
+elasticjob.jobs.manualScriptJob.props.script.command.line=echo Manual SCRIPT Job:
 ```
 
 ## Event Trace Configuration
diff --git a/docs/content/user-manual/elasticjob-lite/usage/job-api/spring-boot-starter.cn.md b/docs/content/user-manual/elasticjob-lite/usage/job-api/spring-boot-starter.cn.md
index 014db19c7..e87e02f4f 100644
--- a/docs/content/user-manual/elasticjob-lite/usage/job-api/spring-boot-starter.cn.md
+++ b/docs/content/user-manual/elasticjob-lite/usage/job-api/spring-boot-starter.cn.md
@@ -80,6 +80,9 @@ JobBootstrap 由 Starter 动态创建，如果依赖方的实例化时间早于
 
 也可以通过 ApplicationContext 获取 JobBootstrap 的 Bean。
 
+`OneOffJobBootstrap` bean 的名称通过属性 jobBootstrapBeanName 配置，注入时需要指定依赖的 bean 名称。
+具体配置请参考[配置文档](/cn/user-manual/elasticjob-lite/configuration/spring-boot-starter)。
+
 ```java
 @RestController
 @DependsOn("ElasticJobLiteAutoConfiguration")
diff --git a/docs/content/user-manual/elasticjob-lite/usage/job-api/spring-boot-starter.en.md b/docs/content/user-manual/elasticjob-lite/usage/job-api/spring-boot-starter.en.md
index 1dd4abf9f..da60a9d33 100644
--- a/docs/content/user-manual/elasticjob-lite/usage/job-api/spring-boot-starter.en.md
+++ b/docs/content/user-manual/elasticjob-lite/usage/job-api/spring-boot-starter.en.md
@@ -82,6 +82,9 @@ JobBootstraps are created by the Starter dynamically. It's unable to inject the
 
 Developers can also retrieve `JobBootstrap` beans by ApplicationContext.
 
+The bean name of `OneOffJobBootstrap` is specified by property "jobBootstrapBeanName",
+Please refer to [Spring Boot Starter Configuration](/en/user-manual/elasticjob-lite/configuration/spring-boot-starter).
+
 ```java
 @RestController
 @DependsOn("ElasticJobLiteAutoConfiguration")
