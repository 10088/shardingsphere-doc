commit 4e38be757b665a1f1762bb1b59a766c56602cff3
Author: Xinze Guo <101622833+azexcy@users.noreply.github.com>
Date:   Wed Aug 24 09:24:05 2022 +0800

    Remove unused sharding scaling rule DistSQL and related configs (#20468)
    
    * Remove unused code, and fix unit test
    
    * Fix
    
    * Remove g4 import

diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.cn.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.cn.md
index 62c0c4f24cf..a03de67c091 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.cn.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.cn.md
@@ -139,51 +139,6 @@ DROP SHARDING BROADCAST TABLE RULES (tableName [, tableName] ...)
 ```
 - `ALTER` 会使用新的配置直接覆盖数据库内的广播表配置
 
-### Sharding Scaling Rule
-
-```sql
-CREATE SHARDING SCALING RULE scalingName [scalingRuleDefinition]
-
-DROP SHARDING SCALING RULE scalingName
-
-ENABLE SHARDING SCALING RULE scalingName
-
-DISABLE SHARDING SCALING RULE scalingName
-
-scalingRuleDefinition:
-    [inputDefinition] [, outputDefinition] [, streamChannel] [, completionDetector] [, dataConsistencyChecker]
-
-inputDefinition:
-    INPUT ([workerThread] [, batchSize] [, rateLimiter])
-
-outputDefinition:
-    OUTPUT ([workerThread] [, batchSize] [, rateLimiter])
-
-completionDetector:
-    COMPLETION_DETECTOR (algorithmDefinition)
-
-dataConsistencyChecker:
-    DATA_CONSISTENCY_CHECKER (algorithmDefinition)
-
-rateLimiter:
-    RATE_LIMITER (algorithmDefinition)
-
-streamChannel:
-    STREAM_CHANNEL (algorithmDefinition)
-
-workerThread:
-    WORKER_THREAD=intValue
-
-batchSize:
-    BATCH_SIZE=intValue
-
-intValue:
-    INT
-```
-- `ENABLE` 用于设置启用哪个弹性伸缩配置；
-- `DISABLE` 将禁用当前正在使用的配置；
-- 创建逻辑库中第一个弹性伸缩配置时，默认启用。
-
 ## 示例
 
 ### Sharding Table Rule
@@ -286,29 +241,3 @@ DROP SHARDING BROADCAST TABLE RULES;
 
 DROP SHARDING BROADCAST TABLE RULES t_b;
 ```
-
-### Sharding Scaling Rule
-
-```sql
-CREATE SHARDING SCALING RULE sharding_scaling(
-INPUT(
-  WORKER_THREAD=40,
-  BATCH_SIZE=1000,
-  RATE_LIMITER(TYPE(NAME=QPS, PROPERTIES("qps"=50)))
-),
-OUTPUT(
-  WORKER_THREAD=40,
-  BATCH_SIZE=1000,
-  RATE_LIMITER(TYPE(NAME=TPS, PROPERTIES("tps"=2000)))
-),
-STREAM_CHANNEL(TYPE(NAME="MEMORY", PROPERTIES("block-queue-size"="10000"))),
-COMPLETION_DETECTOR(TYPE(NAME="IDLE", PROPERTIES("incremental-task-idle-seconds-threshold"="1800"))),
-DATA_CONSISTENCY_CHECKER(TYPE(NAME="DATA_MATCH", PROPERTIES("chunk-size"="1000")))
-);
-
-ENABLE SHARDING SCALING RULE sharding_scaling;
-
-DISABLE SHARDING SCALING RULE sharding_scaling;
-
-DROP SHARDING SCALING RULE sharding_scaling;
-```
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.en.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.en.md
index 6d8cb3b4201..dc9d88d94aa 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.en.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.en.md
@@ -139,50 +139,6 @@ DROP SHARDING BROADCAST TABLE RULES
 ```
 - `ALTER` will overwrite the broadcast table configuration in the database with the new configuration
 
-### Sharding Scaling Rule
-
-```sql
-CREATE SHARDING SCALING RULE scalingName [scalingRuleDefinition]
-
-DROP SHARDING SCALING RULE scalingName
-
-ENABLE SHARDING SCALING RULE scalingName
-
-DISABLE SHARDING SCALING RULE scalingName
-
-scalingRuleDefinition:
-    [inputDefinition] [, outputDefinition] [, streamChannel] [, completionDetector] [, dataConsistencyChecker]
-
-inputDefinition:
-    INPUT ([workerThread] [, batchSize] [, rateLimiter])
-
-outputDefinition:
-    OUTPUT ([workerThread] [, batchSize] [, rateLimiter])
-
-completionDetector:
-    COMPLETION_DETECTOR (algorithmDefinition)
-
-dataConsistencyChecker:
-    DATA_CONSISTENCY_CHECKER (algorithmDefinition)
-
-rateLimiter:
-    RATE_LIMITER (algorithmDefinition)
-
-streamChannel:
-    STREAM_CHANNEL (algorithmDefinition)
-
-workerThread:
-    WORKER_THREAD=intValue
-
-batchSize:
-    BATCH_SIZE=intValue
-
-intValue:
-    INT
-```
-- `ENABLE` is used to set which sharding scaling rule is enabled;
-- `DISABLE` will disable the sharding scaling rule currently in use;
-- Enabled by default when creating the first sharding scaling rule in a logical database.
 
 ## Example
 
@@ -284,29 +240,3 @@ ALTER SHARDING BROADCAST TABLE RULES (t_b,t_a,t_3);
 
 DROP SHARDING BROADCAST TABLE RULES;
 ```
-
-### Sharding Scaling Rule
-
-```sql
-CREATE SHARDING SCALING RULE sharding_scaling(
-INPUT(
-  WORKER_THREAD=40,
-  BATCH_SIZE=1000,
-  RATE_LIMITER(TYPE(NAME=QPS, PROPERTIES("qps"=50)))
-),
-OUTPUT(
-  WORKER_THREAD=40,
-  BATCH_SIZE=1000,
-  RATE_LIMITER(TYPE(NAME=TPS, PROPERTIES("tps"=2000)))
-),
-STREAM_CHANNEL(TYPE(NAME="MEMORY", PROPERTIES("block-queue-size"="10000"))),
-COMPLETION_DETECTOR(TYPE(NAME="IDLE", PROPERTIES("incremental-task-idle-seconds-threshold"="1800"))),
-DATA_CONSISTENCY_CHECKER(TYPE(NAME="DATA_MATCH", PROPERTIES("chunk-size"="1000")))
-);
-
-ENABLE SHARDING SCALING RULE sharding_scaling;
-
-DISABLE SHARDING SCALING RULE sharding_scaling;
-
-DROP SHARDING SCALING RULE sharding_scaling;
-```
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.cn.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.cn.md
index 597a67a90aa..d8021897197 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.cn.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.cn.md
@@ -47,13 +47,6 @@ SHOW SHARDING BINDING TABLE RULES [FROM databaseName]
 SHOW SHARDING BROADCAST TABLE RULES [FROM databaseName]
 ```
 
-### Sharding Scaling Rule
-```sql
-SHOW SHARDING SCALING RULES [FROM databaseName]
-```
-
-## 返回值说明
-
 ### Sharding Table Rule
 
 | 列                                | 说明                                |
@@ -312,15 +305,3 @@ mysql> SHOW SHARDING BROADCAST TABLE RULES;
 +------------------------+
 2 rows in set (0.00 sec)
 ```
-
-### Sharding Scaling Rule
-
-```sql
-mysql> SHOW SHARDING SCALING RULES;
-+------------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------+--------------------------------------------------------+-------------------------------------------------------------------------+-----------------------------------------------------+
-| name             | input                                                                                  | output                                                                                   | stream_channel                                         | completion_detector                                                     | data_consistency_checker                            |
-+------------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------+--------------------------------------------------------+-------------------------------------------------------------------------+-----------------------------------------------------+
-| sharding_scaling | {"workerThread":40,"batchSize":1000,"rateLimiter":{"type":"QPS","props":{"qps":"50"}}} | {"workerThread":40,"batchSize":1000,"rateLimiter":{"type":"TPS","props":{"tps":"2000"}}} | {"type":"MEMORY","props":{"block-queue-size":"10000"}} | {"type":"IDLE","props":{"incremental-task-idle-seconds-threshold":"1800"}} | {"type":"DATA_MATCH","props":{"chunk-size":"1000"}} |
-+------------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------+--------------------------------------------------------+-------------------------------------------------------------------------+-----------------------------------------------------+
-1 row in set (0.00 sec)
-```
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.en.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.en.md
index 338446f7b93..a636f38eab1 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.en.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.en.md
@@ -47,13 +47,6 @@ SHOW SHARDING BINDING TABLE RULES [FROM databaseName]
 SHOW SHARDING BROADCAST TABLE RULES [FROM databaseName]
 ```
 
-### Sharding Scaling Rule
-```sql
-SHOW SHARDING SCALING RULES [FROM databaseName]
-```
-
-## Return Value Description
-
 ### Sharding Table Rule
 
 | Column                            | Description                                               |
@@ -312,15 +305,3 @@ mysql> SHOW SHARDING BROADCAST TABLE RULES;
 +------------------------+
 2 rows in set (0.00 sec)
 ```
-
-### Sharding Scaling Rule
-
-```sql
-mysql> SHOW SHARDING SCALING RULES;
-+------------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------+--------------------------------------------------------+-------------------------------------------------------------------------+-----------------------------------------------------+
-| name             | input                                                                                  | output                                                                                   | stream_channel                                         | completion_detector                                                     | data_consistency_checker                            |
-+------------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------+--------------------------------------------------------+-------------------------------------------------------------------------+-----------------------------------------------------+
-| sharding_scaling | {"workerThread":40,"batchSize":1000} | {"workerThread":40,"batchSize":1000} | {"type":"MEMORY","props":{"block-queue-size":"10000"}} | {"type":"IDLE","props":{"incremental-task-idle-seconds-threshold":"1800"}} | {"type":"DATA_MATCH","props":{"chunk-size":"1000"}} |
-+------------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------+--------------------------------------------------------+-------------------------------------------------------------------------+-----------------------------------------------------+
-1 row in set (0.00 sec)
-```
